<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Beer!</title>

    <script src="https://code.jquery.com/jquery.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"></script>



</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2>Brewery Survey</h2>
            </div>
        </div>

        <hr>

        <h3>
            <strong>Which Brewery Should I go to Tonight?</strong>
        </h3>

        <form>

            <h2>Please answer all questions to get a complete recommendation</h2>

            <h4><strong>1.) Where are you looking to drink?</strong></h4>
            <select class="chosen-select" id="q1">
                <option value="">** Select an option</option>
                <option value="1">Minneapolis (South)</option>
                <option value="2">Minneapolis (Downtown)</option>
                <option value="3">Minneapolis (Northeast)</option>
                <option value="4">St. Paul</option>
                <option value="5">Western Suburbs</option>
            </select>
            <br>
            <br>

            <h4><strong>2.) What type of beer do you normally drink?</strong></h4>
            <select class="chosen-select" id="q2">
                <option value="">** Select an option</option>
                <option value="1">Cider</option>
                <option value="2">Kolsch</option>
                <option value="3">IPA</option>
                <option value="4">Stout</option>
                <option value="5">Brown Ale</option>
                <option value="6">Lager</option>
            </select>
            <br>
            <br>

            <h4><strong>3.) How alcoholic would you like your beer?</strong></h4>
            <select class="chosen-select" id="q3">
                <option value="">** Select an option</option>
                <option value="1">Least Alcoholic (Less Than 3.5% Alcohol by Volume)</option>
                <option value="2">Somewhat Alcoholic (Between 3.5% and 5% ABV)</option>
                <option value="3">Fairly Alcoholic (Between 5% and 6.5% ABV)</option>
                <option value="4">Strongly Alcoholic (Between 6.5% and 8% ABV)</option>
                <option value="5">Very Strongly Alcoholic (Higher than 8% ABV)</option>
            </select>
            <br>
            <br>

            <h4><strong>4.) How bitter do you like your beers?</strong></h4>
            <select class="chosen-select" id="q4">
                <option value="">** Select an option</option>
                <option value="1">Not at all bitter (5 - 25 International Bittering Units)</option>
                <option value="2">Somewhat bitter (25 - 50 IBUs)</option>
                <option value="3">Fairly bitter (50 - 75 IBUs)</option>
                <option value="4">Very bitter (more than 75 IBUs)</option>
            </select>
            <br>
            <br>

            <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" id="submitBtn">Submit</button>
            <br>
            <br>
        </form>
    </div>


    <script type="text/javascript">
        $("#submitBtn").on("click", function (event) {
            console.log("Answers Saved")
            event.preventDefault();

            // set responses to local variables
            var beerLocation = parseInt($('#q1').val());
            var beerType = parseInt($('#q2').val());
            var beerABV = parseInt($('#q3').val());
            var beerBitter = parseInt($('#q4').val());

            var userAnswers = {
                location: beerLocation,
                type: beerType,
                abv: beerABV,
                bitterness: beerBitter
            }

            $.post("/api/beers", userAnswers, function (data) {
                console.log(userAnswers);
                console.log(data)
            })
        });

    </script>

</body>